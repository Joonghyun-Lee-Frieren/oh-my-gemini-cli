# GEMINI.md — oh-my-gemini-cli 프로젝트 템플릿

> 이 파일은 `omg setup` 실행 시 프로젝트 루트에 생성되는 `GEMINI.md` 템플릿입니다.
> Gemini CLI가 세션 시작 시 이 파일을 자동으로 읽어 프로젝트 컨텍스트로 활용합니다.
> `{placeholder}` 부분을 프로젝트에 맞게 수정하세요.

---

# {프로젝트 이름}

## 프로젝트 개요

{프로젝트에 대한 1-3문장 설명을 작성하세요.}

- **언어/프레임워크**: {예: TypeScript, Node.js, React}
- **빌드 시스템**: {예: esbuild, webpack, vite}
- **테스트**: {예: vitest, jest}
- **패키지 관리자**: {예: npm, pnpm, yarn}

## 디렉토리 구조

```
{프로젝트 루트}/
├── src/           # 소스 코드
├── tests/         # 테스트
├── docs/          # 문서
└── ...
```

## 코딩 컨벤션

- {예: 함수명은 camelCase, 클래스명은 PascalCase}
- {예: 상대 경로 import 사용, .js 확장자 포함}
- {예: 에러 처리는 try-catch 패턴, 커스텀 에러 클래스 사용}

## 핵심 명령어

```bash
{패키지 관리자} install     # 의존성 설치
{패키지 관리자} run build   # 빌드
{패키지 관리자} run test    # 테스트
{패키지 관리자} run dev     # 개발 서버
```

---

## oh-my-gemini-cli 통합

이 프로젝트는 **oh-my-gemini-cli (OMG)**로 관리됩니다.
아래는 이 세션에서 사용 가능한 에이전트, 스킬, 명령어입니다.

### 에이전트 프롬프트

Gemini CLI에서 `/prompts:이름` 형식으로 특화된 에이전트를 활성화합니다:

| 에이전트 | 명령어 | 모델 | 용도 |
|---------|--------|------|------|
| Architect | `/prompts:architect` | Pro | 아키텍처 분석, 설계 결정, 의존성 그래프 |
| Planner | `/prompts:planner` | Pro | 작업 분해, 실행 계획, 마일스톤 |
| Executor | `/prompts:executor` | Flash | 코드 생성/편집, 리팩토링 |
| Reviewer | `/prompts:reviewer` | Pro | 코드 리뷰, 보안/성능/품질 |
| Debugger | `/prompts:debugger` | Pro | 에러 분석, 근본 원인 추적, 수정 제안 |
| Researcher | `/prompts:researcher` | Pro | 웹 검색, 라이브러리 비교, 문서 분석 |
| Quick | `/prompts:quick` | Flash | 타이포, 포맷팅, 소규모 변경 |

### 워크플로우 스킬

`$스킬명` 형식으로 복합 워크플로우를 실행합니다:

| 스킬 | 트리거 | 설명 |
|------|--------|------|
| 전략적 계획 | `$plan` | Pro 기반 심층 분석 + 구조화된 실행 계획 |
| 빠른 구현 | `$execute` | Flash 기반 빠른 코드 생성 |
| 팀 오케스트레이션 | `$team` | 멀티 에이전트 병렬 실행 |
| 병렬 리서치 | `$research` | 웹 검색 + 문서 분석 병렬 처리 |
| 컨텍스트 최적화 | `$context-optimize` | 캐시 적중률 분석 및 개선 |

### 커스텀 명령어

| 명령어 | 설명 |
|--------|------|
| `/omg:status` | 에이전트 상태, 작업 파이프라인, 캐시 적중률 조회 |
| `/omg:optimize` | 컨텍스트 캐시 분석 및 최적화 실행 |
| `/omg:team` | 멀티 에이전트 팀 구성 및 실행 |
| `/omg:cache` | 프롬프트 캐시 적중률 상세 모니터링 |

---

## 컨텍스트 엔지니어링 가이드라인

> **이 섹션은 Gemini가 세션 내내 참고하는 지침입니다.**
> 이 내용은 캐시 접두사의 일부이므로 세션 중에 수정하지 마세요.

### 캐시 최적화 원칙

이 세션에서는 다음 원칙을 따라 캐시 적중률을 최대화합니다:

1. **접두사 안정성 유지**
   - 이 GEMINI.md와 시스템 프롬프트, 도구 정의는 세션 중 변경하지 않습니다
   - 정적 콘텐츠를 앞에, 동적 콘텐츠를 뒤에 배치합니다
   - 업데이트가 필요하면 `<system-reminder>` 태그를 사용합니다

2. **도구 집합 불변**
   - MCP 도구를 추가하거나 제거하지 않습니다
   - 도구 제한이 필요하면 Plan Mode를 사용합니다

3. **서브에이전트 패턴**
   - 모델 전환 대신 서브에이전트를 사용합니다
   - 메인 세션(Pro)의 캐시를 보존하면서 서브에이전트(Flash)에게 위임합니다

4. **캐시 안전 컴팩션**
   - 컨텍스트가 70% 이상 차면 `$context-optimize`를 실행합니다
   - 컴팩션 시 접두사를 보존하는 Cache-Safe Forking을 사용합니다

5. **효율적 파일 읽기**
   - 전체 파일 대신 필요한 부분만 읽습니다 (라인 범위 지정)
   - 같은 파일을 반복해서 읽지 않습니다
   - 디렉토리 구조를 먼저 확인한 후 필요한 파일만 접근합니다

### 듀얼 모델 전략

| 역할 | 모델 | 적합한 작업 |
|------|------|------------|
| 계획/분석 | Gemini 3.1 Pro | 아키텍처, 코드 리뷰, 디버깅, 리서치 |
| 구현/실행 | Gemini 3.1 Flash | 코드 생성, 파일 편집, 단순 작업 |

Pro는 깊은 추론이 필요한 작업에, Flash는 빠른 실행이 필요한 작업에 사용합니다.
모델 전환은 서브에이전트 패턴으로만 수행하여 캐시를 보존합니다.

### MCP 서버

이 프로젝트에서 사용 가능한 OMG MCP 서버:

| 서버 | 용도 |
|------|------|
| `omg_state` | 에이전트/작업 상태 관리 |
| `omg_memory` | 프로젝트 메모리 (학습한 패턴, 결정 이력) |
| `omg_context` | 컨텍스트 엔지니어링 엔진 (캐시, 레이어, 컴팩션) |
| `omg_orchestrator` | 멀티 에이전트 오케스트레이션 |

---

## 프로젝트 특이사항

{프로젝트에 특별히 주의해야 할 사항을 기록하세요.}

- {예: `.env` 파일은 절대 커밋하지 않습니다}
- {예: `src/legacy/` 디렉토리는 건드리지 않습니다}
- {예: API 변경 시 반드시 `docs/api.md`를 업데이트합니다}

## 자주 사용하는 워크플로우

### 새 기능 개발

```
1. $plan "기능 설명"           # 계획 수립
2. $team "기능 설명"           # 멀티 에이전트로 구현
3. /omg:status                 # 진행 상황 확인
4. /prompts:reviewer           # 코드 리뷰
```

### 버그 수정

```
1. /prompts:debugger "에러 메시지" # 근본 원인 분석
2. $execute "수정 사항"            # 빠른 수정
3. /prompts:reviewer               # 수정 검증
```

### 리서치 후 구현

```
1. $research "주제"                # 기술 조사
2. $plan "조사 결과 기반 계획"      # 계획 수립
3. $execute plan:phase-1           # 단계별 구현
```
