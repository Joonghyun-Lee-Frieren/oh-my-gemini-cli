# /omg:status â€” ì—ì´ì „íŠ¸ ë° ì‹œìŠ¤í…œ ìƒíƒœ ì¡°íšŒ
# í˜„ì¬ í™œì„± ì—ì´ì „íŠ¸, ì‘ì—… íŒŒì´í”„ë¼ì¸, ìºì‹œ ì ì¤‘ë¥ ì„ í•œëˆˆì— í™•ì¸í•©ë‹ˆë‹¤.

[command]
name = "omg:status"
description = "OMG ì—ì´ì „íŠ¸ ìƒíƒœ ë° ì‹œìŠ¤í…œ í˜„í™©ì„ ì¡°íšŒí•©ë‹ˆë‹¤"

[command.args]
detail = { type = "boolean", default = false, description = "ìƒì„¸ ì •ë³´ í¬í•¨ ì—¬ë¶€" }
lang = { type = "string", default = "ko", description = "ì¶œë ¥ ì–¸ì–´: ko ë˜ëŠ” en" }
format = { type = "string", default = "compact", description = "ì¶œë ¥ í˜•ì‹: compact ë˜ëŠ” detailed" }
alert-threshold = { type = "number", default = 90, description = "ê²½ê³  ì„ê³„ ìºì‹œ ì ì¤‘ë¥  (%)" }

[prompt]
text = """
í˜„ì¬ oh-my-gemini-cli ì‹œìŠ¤í…œì˜ ìƒíƒœë¥¼ ì¢…í•©ì ìœ¼ë¡œ í™•ì¸í•˜ê³  ë³´ê³ í•´ì£¼ì„¸ìš”.
ì¶œë ¥ ì–¸ì–´ëŠ” `{lang}` ê°’ì„ ë”°ë¥´ì„¸ìš”. (`ko`=í•œêµ­ì–´, `en`=English)
ì¶œë ¥ ë°€ë„ëŠ” `{format}` ê°’ì„ ë”°ë¥´ì„¸ìš”. (`compact`=ì§§ê²Œ, `detailed`=ìì„¸íˆ)

## í™•ì¸ í•­ëª©

### 1. ì—ì´ì „íŠ¸ ìƒíƒœ
!{omg status --agents --json}

ìœ„ JSONì—ì„œ `active`, `total`, `agents[]`ë¥¼ ì‚¬ìš©í•´ í™œì„± ì—ì´ì „íŠ¸ ëª©ë¡ê³¼ í˜„ì¬ ì‘ì—…/ì§„í–‰ë¥ ì„ ìš”ì•½í•´ì£¼ì„¸ìš”.

### 2. ì‘ì—… íŒŒì´í”„ë¼ì¸
!{omg status --tasks --json}

ìœ„ JSONì—ì„œ `done`, `running`, `queued`, `failed`, `tasks[]`ë¥¼ ì‚¬ìš©í•´ í˜„ì¬ ì‘ì—… ìƒíƒœë¥¼ ìš”ì•½í•´ì£¼ì„¸ìš”:
- ì™„ë£Œ/ì§„í–‰/ëŒ€ê¸°/ì‹¤íŒ¨ ì‘ì—… ìˆ˜
- ì‹¤íŒ¨í•œ ì‘ì—…ì´ ìˆë‹¤ë©´ ì›ì¸ ìš”ì•½

### 3. ìºì‹œ ì ì¤‘ë¥ 
!{omg status --cache --json}

ìœ„ JSONì—ì„œ `hit_rate`, `target_rate`, `hits`, `misses`ë¥¼ ì‚¬ìš©í•´ ìºì‹œ ìƒíƒœë¥¼ ë³´ê³ í•´ì£¼ì„¸ìš”.
ì ì¤‘ë¥ ì´ ë‚®ë‹¤ë©´ ì›ì¸ê³¼ ê°œì„  ë°©ì•ˆì„ ì œì‹œí•´ì£¼ì„¸ìš”.

### 4. ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰
!{omg status --context --json}

ìœ„ JSONì—ì„œ `used`, `limit`, `percentage`ë¥¼ ì‚¬ìš©í•´ ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš° ì‚¬ìš©ëŸ‰ì„ ë³´ê³ í•´ì£¼ì„¸ìš”.
ë¹„ìš©ì€ ìˆ«ì ê·¼ê±°ê°€ ì—†ìœ¼ë©´ "ì¶”ì • ë¶ˆê°€"ë¡œ ëª…ì‹œí•˜ì„¸ìš”.

## ì¶œë ¥ í˜•ì‹

ê°„ê²°í•œ ìƒíƒœ ë³´ê³ ì„œ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•´ì£¼ì„¸ìš”:

```
ğŸ“Š OMG Status Report
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¤– Agents: {active}/{total} active
ğŸ“‹ Tasks:  {done}/{total} done, {running} running, {queued} queued, {failed} failed
ğŸ’¾ Cache:  {hit_rate}% hit rate (target: >90%)
ğŸ“¦ Tokens: {used}/{limit} ({percentage}%)
ğŸ’° Cost:   {cost_or_unavailable}
â±ï¸ Uptime: {duration}
```

ë¬¸ì œê°€ ë°œê²¬ë˜ë©´ âš ï¸ ê²½ê³ ì™€ í•¨ê»˜ ê¶Œì¥ ì¡°ì¹˜ë¥¼ ì œì‹œí•´ì£¼ì„¸ìš”.
ë°ì´í„°ê°€ ì—†ëŠ” ê°’ì€ ì¶”ì¸¡í•˜ì§€ ë§ê³  "N/A"ë¡œ í‘œê¸°í•˜ì„¸ìš”.

## ê²½ê³  ë¬¸êµ¬ ë¶„ê¸° ê·œì¹™

- `hit_rate < {alert-threshold}` ì´ë©´:
  - `{lang}=ko`: "âš ï¸ ê²½ê³ : ìºì‹œ ì ì¤‘ë¥ ì´ ì„ê³„ê°’({alert-threshold}%) ë¯¸ë§Œì…ë‹ˆë‹¤."
  - `{lang}=en`: "âš ï¸ Warning: Cache hit rate is below threshold ({alert-threshold}%)."
- `hit_rate >= {alert-threshold}` ì´ë©´:
  - `{lang}=ko`: "âœ… ì •ìƒ: ìºì‹œ ì ì¤‘ë¥ ì´ ì„ê³„ê°’ ì´ìƒì…ë‹ˆë‹¤."
  - `{lang}=en`: "âœ… Healthy: Cache hit rate is above threshold."

## ì¶œë ¥ í…œí”Œë¦¿ (ì–¸ì–´ ì„ íƒí˜•)

{lang}=ko:
```
ğŸ“Š OMG ìƒíƒœ ë³´ê³ ì„œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¤– Agents: {active}/{total} active
ğŸ“‹ Tasks:  {done}/{total} done, {running} running, {queued} queued, {failed} failed
ğŸ’¾ Cache:  {hit_rate}% (ì„ê³„ê°’: {alert-threshold}%)
ğŸ“¦ Tokens: {used}/{limit} ({percentage}%)
ğŸ’° Cost:   {cost_or_unavailable}
â±ï¸ Uptime: {duration}
```

{lang}=en:
```
ğŸ“Š OMG Status Report
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¤– Agents: {active}/{total} active
ğŸ“‹ Tasks:  {done}/{total} done, {running} running, {queued} queued, {failed} failed
ğŸ’¾ Cache:  {hit_rate}% (threshold: {alert-threshold}%)
ğŸ“¦ Tokens: {used}/{limit} ({percentage}%)
ğŸ’° Cost:   {cost_or_unavailable}
â±ï¸ Uptime: {duration}
```
"""
